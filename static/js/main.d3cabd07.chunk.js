(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(7),o=n(4),a=n(5),i=n(0);function s(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*r));return t}var u="CART",d=function(e){if("indexeddb"===e)return[];try{return JSON.parse(window[e].getItem(u))}catch(t){}};function l(){var e=Object(r.useState)("localStorage"),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(r.useReducer)((function(){return[]})),j=Object(o.a)(l,2),h=(j[0],j[1]),b=d(n)||[];return Object(r.useEffect)((function(){h()}),[n]),Object(r.useEffect)((function(){return window.addEventListener("storage",h),function(){window.removeEventListener("storage",h)}}),[]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("form",{children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{name:"storage",type:"radio",value:"localStorage",checked:"localStorage"===n,onChange:function(e){var t=e.currentTarget;return c(t.value)}}),"localStorage"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{name:"storage",type:"radio",value:"sessionStorage",checked:"sessionStorage"===n,onChange:function(e){var t=e.currentTarget;return c(t.value)}}),"sessionStorage"]})]}),Object(i.jsx)("h1",{children:"Cart"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){!function(e,t){var n={quantity:Math.round(100*Math.random())%5+1,sku:s(7)},r=[].concat(Object(a.a)(t),[n]);try{return window[e].setItem(u,JSON.stringify(r))}catch(c){}d(e)}(n,b),h()},children:"Add Item"}),Object(i.jsx)("button",{onClick:function(){0!==b.length&&(!function(e,t,n){var r=Object(a.a)(t).filter((function(e){return e.sku!==n}));try{window[e].setItem(u,JSON.stringify(r))}catch(c){}d(e)}(n,b,b[Math.round(100*Math.random())%b.length].sku),h())},children:"Remove Item"})]}),Object(i.jsx)("ul",{children:null===b||void 0===b?void 0:b.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("pre",{children:JSON.stringify(e,void 0,2)})},e.sku)}))})]})}var j=document.getElementById("root");Object(c.createRoot)(j).render(Object(i.jsx)(r.StrictMode,{children:Object(i.jsx)(l,{})}))}},[[17,1,2]]]);
//# sourceMappingURL=main.d3cabd07.chunk.js.map